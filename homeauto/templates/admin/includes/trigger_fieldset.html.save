<fieldset class="module aligned {{ fieldset.classes }}">
    {% if fieldset.name %}<h2>{{ fieldset.name }}</h2>{% endif %}
    {% if fieldset.description %}
        <div class="description">{{ fieldset.description|safe }}</div>
    {% endif %}

<!--

    {% for line in fieldset %}
        {% for field in line %}
            {% if field.field.name %}<p>{{ field.field.name }}</p>{% endif %}
        {% endfor %}
    {% endfor %}

<select id="id_trigger">
  <option value="Time Window">option1</option>
  <option value="Armed State">option2</option>
  <option value="External Schedule Start">option3</option>
  <option value="Motion">option4</option>
  <option value="option5">option5</option>
  <option value="option6">option6</option>
</select>


<div id="DivContent">
<div id="Motion" class="div_content">
  option1
</div>
<div id="Time Window" class="div_content">
  option2
</div>
<div id="option3" class="div_content">
  option3
</div>
<div id="option4" class="div_content">
  option4
</div>
<div id="option5" class="div_content">
  option5
</div>
<div id="option6" class="div_content">
  option6
</div>
</div>

<!--Div  -->


    {% for line in fieldset %}

        {% for field in line %}{% if field.field.name == "name" or  field.field.name == "enabled" or field.field.name == "trigger" %}
          <div class="form-row{% if line.fields|length_is:'1' and line.errors %} errors{% endif %}{% if not line.has_visible_field %} hidden{% endif %}{% for field in line %}{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% endfor %}">
        {% elif field.field.name == "motion_detector" %}
          <div id="Motion"  class="div_content form-row{% if line.fields|length_is:'1' and line.errors %} errors{% endif %}{% if not line.has_visible_field %} hidden{% endif %}{% for field in line %}{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% endfor %}">
        {% elif field.field.name == "sensor" %}
          <div id="Sensor" class="div_content form-row{% if line.fields|length_is:'1' and line.errors %} errors{% endif %}{% if not line.has_visible_field %} hidden{% endif %}{% for field in line %}{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% endfor %}">
        {% elif field.field.name == "lock" %}
          <div id="Lock" class="div_content form-row{% if line.fields|length_is:'1' and line.errors %} errors{% endif %}{% if not line.has_visible_field %} hidden{% endif %}{% for field in line %}{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% endfor %}">
        {% elif field.field.name == "window_start" or field.field.name == "window_end"  %}
          <div id="Time Window" class="div_content form-row{% if line.fields|length_is:'1' and line.errors %} errors{% endif %}{% if not line.has_visible_field %} hidden{% endif %}{% for field in line %}{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% endfor %}">
        {% elif field.field.name == "external_schedule" %}
          <div id="
<!--Div  -->


" class="div_content form-row{% if line.fields|length_is:'1' and line.errors %} errors{% endif %}{% if not line.has_visible_field %} hidden{% endif %}{% for field in line %}{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% endfor %}">
        {% elif "people" in field.field.name %}
          <div id="People Do Something" class="div_content form-row{% if line.fields|length_is:'1' and line.errors %} errors{% endif %}{% if not line.has_visible_field %} hidden{% endif %}{% for field in line %}{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% endfor %}">
        {% elif field.field.name == "armed_state" %}
          <div is="Armed State" class="div_content form-row{% if line.fields|length_is:'1' and line.errors %} errors{% endif %}{% if not line.has_visible_field %} hidden{% endif %}{% for field in line %}{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% endfor %}">
        {% elif "hvac" in field.field.name %}
          <div id="hvac" class="div_content form-row{% if line.fields|length_is:'1' and line.errors %} errors{% endif %}{% if not line.has_visible_field %} hidden{% endif %}{% for field in line %}{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% endfor %}">
        {% elif field.field.name == "event" %}
          <div id="Events" class="div_content form-row{% if line.fields|length_is:'1' and line.errors %} errors{% endif %}{% if not line.has_visible_field %} hidden{% endif %}{% for field in line %}{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% endfor %}">
        {% else %}
          <div class="div_content form-row{% if line.fields|length_is:'1' and line.errors %} errors{% endif %}{% if not line.has_visible_field %} hidden{% endif %}{% for field in line %}{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% endfor %}">
        {% endif %}{% endfor %}

            {% if line.fields|length_is:'1' %}{{ line.errors }}{% endif %}


            {% for field in line %}

                <div{% if not line.fields|length_is:'1' %} class="fieldBox{% if field.field.name %} field-{{ field.field.name }}{% endif %}{% if not field.is_readonly and field.errors %} errors{% endif %}{% if field.field.is_hidden %} hidden{% endif %}"{% elif field.is_checkbox %} class="checkbox-row"{% endif %}>

                    {% if not line.fields|length_is:'1' and not field.is_readonly %}{{ field.errors }}{% endif %}

                    {% if field.is_checkbox %}
                        {{ field.field }}{{ field.label_tag }}

                    {% else %}
                        {{ field.label_tag }}
                        {% if field.is_readonly %}
                            <div class="readonly">{{ field.contents }}</div>
                        {% else %}

                            {{ field.field.choices }}
                            {{ field.choices }}


                            {{ field.field }}

                            {% if field.label_tag == "Time grace period:" %}
                                <p>In Minutes</p>
                            {% endif %}

                        {% endif %}
                    {% endif %}
                    {% if field.field.help_text %}
                        <div class="help">{{ field.field.help_text|safe }}</div>
                    {% endif %}
                </div>

            {% endfor %}
        </div>
    {% endfor %}
</fieldset>

<script type="text/javascript">

$(document).ready(function(){
  

  //hides dropdown content
  $(".div_content").hide();
  
  //unhides first option content
  $("#DivContent:first").show();
  
  //listen to dropdown for change
  $("#id_trigger").change(function(){
    //rehide content on change
    $('.div_content').hide();
    //unhides current item
    $('#'+$(this).val()).show();
  });
  
});

</script>



